import{_ as s,c as a,a as p,o as e}from"./app-BqFQ7IOF.js";const t={};function c(l,n){return e(),a("div",null,n[0]||(n[0]=[p(`<ul><li>相机控制</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    scene<span class="token punctuation">.</span>screenSpaceCameraController<span class="token punctuation">.</span>enableZoom <span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>   <span class="token comment">//禁止缩放</span></span>
<span class="line">    scene<span class="token punctuation">.</span>screenSpaceCameraController<span class="token punctuation">.</span>enableTranslate  <span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//禁止平移</span></span>
<span class="line">    scene<span class="token punctuation">.</span>screenSpaceCameraController<span class="token punctuation">.</span>enableRotate <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//禁止旋转</span></span>
<span class="line">    scene<span class="token punctuation">.</span>screenSpaceCameraController<span class="token punctuation">.</span>enableTilt <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>   <span class="token comment">//只能通过平移更改摄像机的观看方向或旋转</span></span>
<span class="line">	scene<span class="token punctuation">.</span>screenSpaceCameraController<span class="token punctuation">.</span>enableLook <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token comment">//锁定到当前标题</span></span>
<span class="line">    <span class="token comment">// 设置中键用于缩放</span></span>
<span class="line">    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>screenSpaceCameraController<span class="token punctuation">.</span>zoomEventTypes <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">        Cesium<span class="token punctuation">.</span>CameraEventType<span class="token punctuation">.</span><span class="token constant">WHEEL</span><span class="token punctuation">,</span>  <span class="token comment">// 保留滚轮缩放</span></span>
<span class="line">        Cesium<span class="token punctuation">.</span>CameraEventType<span class="token punctuation">.</span><span class="token constant">MIDDLE_DRAG</span><span class="token punctuation">,</span>  <span class="token comment">// 添加中键拖动缩放</span></span>
<span class="line">        Cesium<span class="token punctuation">.</span>CameraEventType<span class="token punctuation">.</span><span class="token constant">PINCH</span>  <span class="token comment">// 保留多点触控缩放</span></span>
<span class="line">    <span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 设置右键用于旋转</span></span>
<span class="line">    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>screenSpaceCameraController<span class="token punctuation">.</span>tiltEventTypes <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">        Cesium<span class="token punctuation">.</span>CameraEventType<span class="token punctuation">.</span><span class="token constant">RIGHT_DRAG</span><span class="token punctuation">,</span>  <span class="token comment">// 添加右键拖动旋转</span></span>
<span class="line">        Cesium<span class="token punctuation">.</span>CameraEventType<span class="token punctuation">.</span><span class="token constant">PINCH</span><span class="token punctuation">,</span>  <span class="token comment">// 保留多点触控旋转</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token literal-property property">eventType</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>CameraEventType<span class="token punctuation">.</span><span class="token constant">LEFT_DRAG</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token literal-property property">modifier</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>KeyboardEventModifier<span class="token punctuation">.</span><span class="token constant">CTRL</span>  <span class="token comment">// 保留Ctrl+左键拖动旋转</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token literal-property property">eventType</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>CameraEventType<span class="token punctuation">.</span><span class="token constant">RIGHT_DRAG</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token literal-property property">modifier</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>KeyboardEventModifier<span class="token punctuation">.</span><span class="token constant">CTRL</span>  <span class="token comment">// 保留Ctrl+右键拖动旋转</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>flyTo (相机飞行到一个位置，有动画)</li><li>setView(无动画，与flyTo用法相同)</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    <span class="token comment">// 相机运动(带动画)</span></span>
<span class="line">	<span class="token function">flyTo</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">flyTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">			<span class="token comment">// fromDegrees()方法，将经纬度和高程转换为世界坐标，这里定位到渔港</span></span>
<span class="line">			<span class="token literal-property property">destination</span><span class="token operator">:</span> params<span class="token punctuation">.</span>position<span class="token punctuation">,</span> <span class="token comment">//114.159, 22.234, 2824</span></span>
<span class="line">			<span class="token comment">// destination: Cesium.Cartesian3.fromDegrees(params.x, params.y, params.z), //114.159, 22.234, 2824</span></span>
<span class="line">			<span class="token literal-property property">duration</span><span class="token operator">:</span> params<span class="token punctuation">.</span>duration <span class="token operator">||</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token comment">// 持续时间</span></span>
<span class="line">			<span class="token literal-property property">orientation</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">				<span class="token literal-property property">heading</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">				<span class="token literal-property property">pitch</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>pitch <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 视角-43</span></span>
<span class="line">				<span class="token literal-property property">roll</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>lookAt (锁定视角，无飞行效果)</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">  <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">lookAt</span><span class="token punctuation">(</span>center<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span></span>
<span class="line">  	cameraOffset<span class="token punctuation">.</span>x <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">  	cameraOffset<span class="token punctuation">.</span>y <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">  	cameraOffset<span class="token punctuation">.</span>z <span class="token operator">||</span> <span class="token number">100</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>lookAtTransform (锁定视角，无飞行效果,与lookAt效果一样)</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    <span class="token keyword">let</span> transform <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Transforms<span class="token punctuation">.</span><span class="token function">eastNorthUpToFixedFrame</span><span class="token punctuation">(</span>center<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">lookAtTransform</span><span class="token punctuation">(</span>transform<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span></span>
<span class="line">      cameraOffset<span class="token punctuation">.</span>x <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">      cameraOffset<span class="token punctuation">.</span>y <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">      cameraOffset<span class="token punctuation">.</span>z <span class="token operator">||</span> <span class="token number">100</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>flyHome (视角回到原位，默认美国上空-可修改)</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">  viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">flyHome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">//   修改默认视角</span></span>
<span class="line">  Cesium<span class="token punctuation">.</span>Camera<span class="token punctuation">.</span><span class="token constant">DEFAULT_VIEW_RECTANGLE</span><span class="token operator">=</span>Cesium<span class="token punctuation">.</span>Rectangle<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">136</span><span class="token punctuation">,</span><span class="token number">54</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>flyToBoundingSphere (相机飞行到一个边界球体，有动画)</li><li>viewBoundingSphere (无动画，与flyToBoundingSphere用法相同)</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">flyToBoundingSphere</span><span class="token punctuation">(</span>tileset<span class="token punctuation">.</span>boundingSphere<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,12)]))}const i=s(t,[["render",c],["__file","camera.html.vue"]]),u=JSON.parse('{"path":"/blogs/2025/cesium/camera.html","title":"cesium相机","lang":"en-US","frontmatter":{"title":"cesium相机","date":"2025-01-13T00:00:00.000Z","tags":["cesium"],"category":["cesium"],"categories":[]},"headers":[],"git":{"createdTime":1737018220000,"updatedTime":1737018220000,"contributors":[{"name":"zy","email":"848175192@qqcom","commits":1}]},"filePathRelative":"blogs/2025/cesium/camera.md"}');export{i as comp,u as data};
