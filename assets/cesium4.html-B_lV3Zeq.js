import{_ as n,c as a,a as t,o as p}from"./app-K4CeAmvM.js";const e={};function l(i,s){return p(),a("div",null,s[0]||(s[0]=[t(`<ul><li>涟漪效果</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"> <span class="token function">addRippleMaker</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">			<span class="token literal-property property">geometry</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>EllipseGeometry</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">				<span class="token literal-property property">center</span><span class="token operator">:</span> data<span class="token punctuation">.</span>position<span class="token punctuation">,</span></span>
<span class="line">				<span class="token literal-property property">semiMinorAxis</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span></span>
<span class="line">				<span class="token literal-property property">semiMajorAxis</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span></span>
<span class="line">				<span class="token literal-property property">height</span><span class="token operator">:</span> data<span class="token punctuation">.</span>height <span class="token operator">+</span> <span class="token number">0.5</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">		<span class="token keyword">const</span> appearance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>MaterialAppearance</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">			<span class="token literal-property property">material</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Material</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">				<span class="token literal-property property">fabric</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">					<span class="token literal-property property">uniforms</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">						<span class="token literal-property property">color</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">fromCssColorString</span><span class="token punctuation">(</span><span class="token string">&#39;#f00&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">						<span class="token literal-property property">speed</span><span class="token operator">:</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token comment">// 速度</span></span>
<span class="line">					<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">					<span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string"></span>
<span class="line">						czm_material czm_getMaterial(czm_materialInput materialInput) {</span>
<span class="line">							czm_material material = czm_getDefaultMaterial(materialInput);</span>
<span class="line">							material.diffuse = 1.5 * color.rgb;</span>
<span class="line">							vec2 st = materialInput.st;</span>
<span class="line">							float dis = distance(st, vec2(0.5, 0.5));</span>
<span class="line">							float per1 = fract(czm_frameNumber * 0.032 * speed);</span>
<span class="line">							float per2 = fract((czm_frameNumber * 0.032 * speed) - 0.3);</span>
<span class="line">							float per3 = fract((czm_frameNumber * 0.032 * speed) - 0.6);</span>
<span class="line">							float pass1 = step(per1 * 0.3, dis) == 0.0? color.a * dis / per1: 0.0;</span>
<span class="line">							float pass2 = step(per2 * 0.3, dis) == 0.0? color.a * dis / per2: 0.0;</span>
<span class="line">							float pass3 = step(per3 * 0.3, dis) == 0.0? color.a * dis / per3: 0.0;</span>
<span class="line">							pass1 = pass1* (1.0 - per1) * 2.0;</span>
<span class="line">							pass2 = pass2* (1.0 - per2) * 2.0;</span>
<span class="line">							pass3 = pass3* (1.0 - per3) * 2.0;</span>
<span class="line">							material.alpha = pass1 + pass2 + pass3;</span>
<span class="line">							return material;</span>
<span class="line">						}</span>
<span class="line">					</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span></span>
<span class="line">				<span class="token punctuation">}</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">		<span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span></span>
<span class="line">			<span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Primitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">				<span class="token literal-property property">geometryInstances</span><span class="token operator">:</span> instance<span class="token punctuation">,</span></span>
<span class="line">				appearance<span class="token punctuation">,</span></span>
<span class="line">				<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">		<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2)]))}const o=n(e,[["render",l],["__file","cesium4.html.vue"]]),r=JSON.parse('{"path":"/blogs/2025/cesium/cesium4.html","title":"cesium特效","lang":"en-US","frontmatter":{"title":"cesium特效","date":"2025-01-13T00:00:00.000Z","tags":["cesium"],"category":["cesium"],"categories":[]},"headers":[],"git":{"createdTime":1737018220000,"updatedTime":1737077350000,"contributors":[{"name":"zy","email":"848175192@qqcom","commits":2}]},"filePathRelative":"blogs/2025/cesium/cesium4.md"}');export{o as comp,r as data};
